{% extends "base.html" %}
{% block title %}Create Event Â· LocalGig{% endblock %}

{% block header %}
<div class="hero-section py-5 bg-light border-bottom">
  <div class="container">
    <h1 class="display-6 mb-1">Create a New Music Event</h1>
    <p class="lead mb-0">Share your gig with the local music community</p>
  </div>
</div>
{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <form method="post" action="{{ url_for('events.create_event') }}">
        {{ form.hidden_tag() }}

        <!-- Event creation input, uses event form and posts to db -->
        <div class="mb-3">
          <label class="form-label" for="eventName">Event Name</label>
          {{ form.title(id="eventName", class="form-control" + (' is-invalid' if form.title.errors else '')) }}
          {% for err in form.title.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
        </div>

        <div class="mb-3">
          <label class="form-label" for="artist">Artist/Band Name</label>
          {{ form.artist_name(id="artist", class="form-control" + (' is-invalid' if form.artist_name.errors else '')) }}
          {% for err in form.artist_name.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
        </div>

<div class="row">
    <div class="col-md-6 mb-3">
        {{ form.genre.label(class="form-label") }}
        {{ form.genre(class="form-select") }}
        {% if form.genre.errors %}
            <div class="text-danger">
                {% for error in form.genre.errors %}
                    <small>{{ error }}</small>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-3">
        {{ form.capacity.label(class="form-label") }}
        {{ form.capacity(class="form-control") }}
        {% if form.capacity.errors %}
            <div class="text-danger">
                {% for error in form.capacity.errors %}
                    <small>{{ error }}</small>
                {% endfor %}
            </div>
        {% endif %}
    </div>
    <div class="col-md-6 mb-3">
        {{ form.price_per_ticket.label(class="form-label") }}
        {{ form.price_per_ticket(class="form-control") }}
        {% if form.price_per_ticket.errors %}
            <div class="text-danger">
                {% for error in form.price_per_ticket.errors %}
                    <small>{{ error }}</small>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</div>

        <div class="mb-3">
          <label class="form-label" for="venue">Venue</label>
          {{ form.venue_name(id="venue", class="form-control" + (' is-invalid' if form.venue_name.errors else '')) }}
          {% for err in form.venue_name.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
        </div>

        <div class="mb-3">
          <label class="form-label" for="location">Location</label>
          {{ form.location(id="location", class="form-control" + (' is-invalid' if form.location.errors else '')) }}
          {% for err in form.location.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label" for="date">Date</label>
            {{ form.event_date(id="date", class="form-control" + (' is-invalid' if form.event_date.errors else '')) }}
            {% for err in form.event_date.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label" for="time">Start Time</label>
            {{ form.starts_at(id="time", class="form-control" + (' is-invalid' if form.starts_at.errors else '')) }}
            {% for err in form.starts_at.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="endTime">End Time</label>
          {{ form.ends_at(id="endTime", class="form-control" + (' is-invalid' if form.ends_at.errors else '')) }}
          {% for err in form.ends_at.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
        </div>

        <div class="mb-3">
          <label class="form-label" for="image">Event Image URL</label>
          {{ form.image_url(id="image", class="form-control" + (' is-invalid' if form.image_url.errors else '')) }}
          {% for err in form.image_url.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
        </div>

        <div class="mb-3">
          <label class="form-label" for="desc">Description</label>
          {{ form.description(id="desc", class="form-control" + (' is-invalid' if form.description.errors else ''), rows="5") }}
          {% for err in form.description.errors %}<div class="invalid-feedback d-block">{{ err }}</div>{% endfor %}
        </div>

        <div class="d-grid">
          {{ form.submit(class="btn btn-primary btn-lg") }}
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}